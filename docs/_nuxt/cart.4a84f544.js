import{_ as P}from"./PageTitle.9e7cbf1c.js";import{_ as q}from"./IntroArea.514c35e5.js";import{y as Q,B as D,r as m,q as v,c as a,a as t,D as s,I as T,o as l,Q as B,R as k,j as E,C as F,b as C,w as $,J as M,K as O,L as R,F as U,A,t as r,M as I,S as Y,e as j,d as S,T as z}from"./entry.05ce73f3.js";const L=""+globalThis.__publicAssetsURL("img/delete-cross.png"),H={class:"modal"},J=t("p",{class:"modal__question"},"Do you really want to delete?",-1),K=Q({__name:"ChooseQuantity",setup(V,{expose:g}){D(o=>({"7ec4cf33":s(f),"0416fca9":s(y)}));let d=null,c=m(0);const u=m({x:-1e3,y:0}),y=v(()=>u.value.y+"px"),f=v(()=>u.value.x-200+"px"),x=v(()=>c.value<2);function b(o,e){return w(e),u.value=e,document.addEventListener("keydown",i),new Promise(n=>{c.value=o,d=n})}function p(o){typeof d=="function"&&d(o),_(),document.removeEventListener("keydown",i)}function w(o){u.value=o}function _(){u.value={x:-1e3,y:0}}function i(o){o.key==="Escape"&&p(0)}return g({chooseQuantity:b}),(o,e)=>(l(),a("div",H,[J,t("button",{onClick:e[0]||(e[0]=h=>p(s(c))),class:"btn",type:"button"},"Yes"),s(x)?T("",!0):(l(),a("button",{key:0,onClick:e[1]||(e[1]=h=>p(1)),class:"btn",type:"button"},"1 piece")),t("button",{onClick:e[2]||(e[2]=h=>p(0)),class:"btn",type:"button"},"Cancel")]))}});const X={class:"cart"},G={class:"container"},W={class:"cart__subwrupper"},Z={class:"cart__asaid"},tt=t("h3",{class:"cart__title"},"Copoun Code",-1),et=t("button",{class:"btn cart__copoun-btn",type:"submit"},"Submit",-1),st={class:"cart__wrupper"},ot={class:"cart__list"},nt=t("h3",{class:"cart__title"},"Product details",-1),at={cellpadding:"0",cellspacing:"0",border:"0"},lt=t("thead",null,[t("tr",null,[t("th",null,"Name"),t("th",null,"Quantity"),t("th",null,"Price"),t("th",null,"Total"),t("th")])],-1),ct={key:0},_t=["onClick"],ut=t("img",{src:L,alt:"delete"},null,-1),it=[ut],rt={key:1},dt=t("tr",null,[t("td",null,"--//--"),t("td",null,"0"),t("td",null,"0"),t("td",null,"0"),t("td",null,[t("button",{class:"cart__delete-product",type:"button"},[t("img",{src:L,alt:"delete"})])])],-1),pt=[dt],ht={class:"cart__total"},mt=t("h3",{class:"cart__title"},"Order total",-1),vt={class:"cart__total-box"},yt={class:"cart__total-row"},ft=t("span",{class:"cart__total-name"},"Subtotal",-1),bt={class:"cart__total-volue"},Ct=t("div",{class:"cart__total-line"},[t("hr",{class:"line"})],-1),gt={key:0},kt={class:"cart__total-row"},xt=t("span",{class:"cart__total-name"},"Copoun",-1),wt={class:"cart__total-volue"},$t=t("div",{class:"cart__total-line"},[t("hr",{class:"line"})],-1),St={class:"cart__total-row"},Qt=t("span",{class:"cart__total-name"},"Shipping",-1),Tt={key:0,class:"cart__total-volue"},Lt={key:1,class:"cart__total-volue"},Vt=t("div",{class:"cart__total-line"},[t("hr",{class:"line"})],-1),Nt={class:"cart__total-row"},Pt=t("span",{class:"cart__total-name"},"Total",-1),qt={class:"cart__total-volue"},Dt=1e3,Bt=.2,Ot=Q({__name:"cart",setup(V){const g=B(),d=m(null),c=m(""),u=m({volume:0}),y=m(!1),f=v(()=>+k.value<Dt?+(+k.value*Bt).toFixed(2):0),x=v(()=>+f.value+ +k.value-b.value),b=v(()=>u.value.volume);async function p(_){_.preventDefault(),c.value!==""&&(u.value=await Y(c.value))}async function w(_,i){if(!d.value)return;const o={x:i.clientX,y:i.clientY};y.value=!0;const e=await d.value.chooseQuantity(_.quantity,o);y.value=!1,e&&z(_.product.id,e)}return E(()=>{}),F(()=>{}),(_,i)=>{const o=P,e=q,h=j;return l(),a("main",null,[C(e,null,{page:$(()=>[C(o,{"title-text":"Cart"})]),_:1}),t("section",X,[t("div",G,[t("div",W,[t("aside",Z,[t("form",{action:"#",class:"cart__copoun",onSubmit:p},[tt,M(t("input",{"onUpdate:modelValue":i[0]||(i[0]=n=>R(c)?c.value=n:null),type:"text",name:"copouncod",placeholder:"#####"},null,512),[[O,s(c)]]),et],32)]),t("div",st,[t("div",ot,[nt,t("table",at,[lt,s(g).list.length?(l(),a("tbody",ct,[(l(!0),a(U,null,A(s(g).list,n=>(l(),a("tr",null,[t("td",null,r(n.product.title),1),t("td",null,r(n.quantity),1),t("td",null,"$"+r(n.product.price),1),t("td",null,"$"+r((n.product.price??0)*n.quantity),1),t("td",null,[t("button",{onClick:N=>w(n,N),class:"cart__delete-product",type:"button"},it,8,_t)])]))),256))])):(l(),a("tbody",rt,pt))])]),t("div",ht,[mt,t("div",vt,[t("ul",null,[t("li",null,[t("div",yt,[ft,t("span",bt,"$"+r("cartSum"in _?_.cartSum:s(k)),1)]),Ct]),s(b)?(l(),a("li",gt,[t("div",kt,[xt,t("span",wt,"- $"+r(s(b)),1)]),$t])):T("",!0),t("li",null,[t("div",St,[Qt,s(f)?(l(),a("span",Tt,"$"+r(s(f)),1)):(l(),a("span",Lt,"free"))]),Vt]),t("li",null,[t("div",Nt,[Pt,t("span",qt,"$"+r(s(x)),1)])])]),C(h,{to:"/shop",class:"btn cart__return-btn"},{default:$(()=>[S("Continue shopping")]),_:1}),C(h,{to:"#",class:"btn cart__check-btn"},{default:$(()=>[S("Procced to checkout")]),_:1})])])])])])]),C(K,{class:I({cart__modal:!s(y)}),ref_key:"choose",ref:d},null,8,["class"])])}}});export{Ot as default};
